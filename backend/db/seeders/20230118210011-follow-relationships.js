'use strict';
const { Follow } = require('../models'); 
const { Op } = require('sequelize'); 

const followsList = [
  { followerId: 1, followeeId: 29 },
  { followerId: 1, followeeId: 13 },
  { followerId: 1, followeeId: 11 },
  { followerId: 1, followeeId: 10 },
  { followerId: 1, followeeId: 15 },
  { followerId: 1, followeeId: 4 },
  { followerId: 1, followeeId: 27 },
  { followerId: 1, followeeId: 7 },
  { followerId: 1, followeeId: 12 },
  { followerId: 1, followeeId: 18 },
  { followerId: 1, followeeId: 26 },
  { followerId: 1, followeeId: 22 },
  { followerId: 1, followeeId: 16 },
  { followerId: 1, followeeId: 19 },
  { followerId: 2, followeeId: 28 },
  { followerId: 2, followeeId: 8 },
  { followerId: 2, followeeId: 5 },
  { followerId: 2, followeeId: 6 },
  { followerId: 2, followeeId: 14 },
  { followerId: 2, followeeId: 1 },
  { followerId: 2, followeeId: 15 },
  { followerId: 2, followeeId: 25 },
  { followerId: 2, followeeId: 10 },
  { followerId: 2, followeeId: 17 },
  { followerId: 2, followeeId: 21 },
  { followerId: 2, followeeId: 22 },
  { followerId: 2, followeeId: 30 },
  { followerId: 2, followeeId: 3 },
  { followerId: 2, followeeId: 11 },
  { followerId: 2, followeeId: 26 },
  { followerId: 3, followeeId: 14 },
  { followerId: 3, followeeId: 6 },
  { followerId: 3, followeeId: 30 },
  { followerId: 3, followeeId: 7 },
  { followerId: 3, followeeId: 22 },
  { followerId: 3, followeeId: 15 },
  { followerId: 4, followeeId: 12 },
  { followerId: 4, followeeId: 25 },
  { followerId: 4, followeeId: 3 },
  { followerId: 4, followeeId: 9 },
  { followerId: 4, followeeId: 7 },
  { followerId: 4, followeeId: 30 },
  { followerId: 4, followeeId: 28 },
  { followerId: 5, followeeId: 3 },
  { followerId: 5, followeeId: 12 },
  { followerId: 5, followeeId: 11 },
  { followerId: 5, followeeId: 20 },
  { followerId: 5, followeeId: 22 },
  { followerId: 5, followeeId: 17 },
  { followerId: 5, followeeId: 14 },
  { followerId: 6, followeeId: 9 },
  { followerId: 6, followeeId: 3 },
  { followerId: 6, followeeId: 7 },
  { followerId: 6, followeeId: 12 },
  { followerId: 6, followeeId: 30 },
  { followerId: 6, followeeId: 19 },
  { followerId: 6, followeeId: 17 },
  { followerId: 7, followeeId: 11 },
  { followerId: 7, followeeId: 8 },
  { followerId: 7, followeeId: 26 },
  { followerId: 7, followeeId: 25 },
  { followerId: 7, followeeId: 4 },
  { followerId: 7, followeeId: 3 },
  { followerId: 8, followeeId: 15 },
  { followerId: 8, followeeId: 17 },
  { followerId: 8, followeeId: 10 },
  { followerId: 8, followeeId: 21 },
  { followerId: 8, followeeId: 9 },
  { followerId: 8, followeeId: 7 },
  { followerId: 9, followeeId: 4 },
  { followerId: 9, followeeId: 13 },
  { followerId: 9, followeeId: 5 },
  { followerId: 9, followeeId: 3 },
  { followerId: 9, followeeId: 6 },
  { followerId: 9, followeeId: 26 },
  { followerId: 9, followeeId: 8 },
  { followerId: 9, followeeId: 16 },
  { followerId: 9, followeeId: 28 },
  { followerId: 9, followeeId: 12 },
  { followerId: 9, followeeId: 11 },
  { followerId: 9, followeeId: 15 },
  { followerId: 9, followeeId: 14 },
  { followerId: 9, followeeId: 20 },
  { followerId: 9, followeeId: 30 },
  { followerId: 9, followeeId: 10 },
  { followerId: 10, followeeId: 5 },
  { followerId: 10, followeeId: 2 },
  { followerId: 10, followeeId: 19 },
  { followerId: 10, followeeId: 1 },
  { followerId: 10, followeeId: 22 },
  { followerId: 10, followeeId: 25 },
  { followerId: 10, followeeId: 15 },
  { followerId: 10, followeeId: 29 },
  { followerId: 10, followeeId: 11 },
  { followerId: 10, followeeId: 27 },
  { followerId: 10, followeeId: 4 },
  { followerId: 11, followeeId: 10 },
  { followerId: 11, followeeId: 1 },
  { followerId: 11, followeeId: 27 },
  { followerId: 11, followeeId: 28 },
  { followerId: 11, followeeId: 30 },
  { followerId: 11, followeeId: 23 },
  { followerId: 11, followeeId: 4 },
  { followerId: 11, followeeId: 6 },
  { followerId: 11, followeeId: 26 },
  { followerId: 11, followeeId: 29 },
  { followerId: 11, followeeId: 15 },
  { followerId: 11, followeeId: 24 },
  { followerId: 11, followeeId: 25 },
  { followerId: 11, followeeId: 18 },
  { followerId: 11, followeeId: 22 },
  { followerId: 11, followeeId: 8 },
  { followerId: 12, followeeId: 9 },
  { followerId: 12, followeeId: 8 },
  { followerId: 12, followeeId: 3 },
  { followerId: 12, followeeId: 4 },
  { followerId: 12, followeeId: 15 },
  { followerId: 12, followeeId: 14 },
  { followerId: 12, followeeId: 23 },
  { followerId: 13, followeeId: 29 },
  { followerId: 13, followeeId: 26 },
  { followerId: 13, followeeId: 1 },
  { followerId: 13, followeeId: 3 },
  { followerId: 13, followeeId: 20 },
  { followerId: 13, followeeId: 19 },
  { followerId: 13, followeeId: 5 },
  { followerId: 13, followeeId: 30 },
  { followerId: 14, followeeId: 20 },
  { followerId: 14, followeeId: 12 },
  { followerId: 14, followeeId: 27 },
  { followerId: 14, followeeId: 3 },
  { followerId: 14, followeeId: 30 },
  { followerId: 14, followeeId: 17 },
  { followerId: 15, followeeId: 16 },
  { followerId: 15, followeeId: 21 },
  { followerId: 15, followeeId: 27 },
  { followerId: 15, followeeId: 28 },
  { followerId: 15, followeeId: 14 },
  { followerId: 15, followeeId: 10 },
  { followerId: 15, followeeId: 22 },
  { followerId: 15, followeeId: 7 },
  { followerId: 15, followeeId: 1 },
  { followerId: 15, followeeId: 13 },
  { followerId: 15, followeeId: 11 },
  { followerId: 15, followeeId: 2 },
  { followerId: 15, followeeId: 26 },
  { followerId: 16, followeeId: 4 },
  { followerId: 16, followeeId: 30 },
  { followerId: 16, followeeId: 22 },
  { followerId: 16, followeeId: 9 },
  { followerId: 16, followeeId: 1 },
  { followerId: 16, followeeId: 5 },
  { followerId: 17, followeeId: 26 },
  { followerId: 17, followeeId: 1 },
  { followerId: 17, followeeId: 8 },
  { followerId: 17, followeeId: 29 },
  { followerId: 17, followeeId: 23 },
  { followerId: 17, followeeId: 18 },
  { followerId: 17, followeeId: 24 },
  { followerId: 17, followeeId: 10 },
  { followerId: 18, followeeId: 7 },
  { followerId: 18, followeeId: 12 },
  { followerId: 18, followeeId: 19 },
  { followerId: 18, followeeId: 30 },
  { followerId: 18, followeeId: 2 },
  { followerId: 18, followeeId: 24 },
  { followerId: 18, followeeId: 6 },
  { followerId: 18, followeeId: 5 },
  { followerId: 18, followeeId: 11 },
  { followerId: 18, followeeId: 22 },
  { followerId: 18, followeeId: 28 },
  { followerId: 18, followeeId: 1 },
  { followerId: 18, followeeId: 20 },
  { followerId: 18, followeeId: 13 },
  { followerId: 18, followeeId: 27 },
  { followerId: 18, followeeId: 29 },
  { followerId: 19, followeeId: 10 },
  { followerId: 19, followeeId: 27 },
  { followerId: 19, followeeId: 11 },
  { followerId: 19, followeeId: 13 },
  { followerId: 19, followeeId: 21 },
  { followerId: 19, followeeId: 20 },
  { followerId: 20, followeeId: 12 },
  { followerId: 20, followeeId: 17 },
  { followerId: 20, followeeId: 27 },
  { followerId: 20, followeeId: 3 },
  { followerId: 20, followeeId: 8 },
  { followerId: 20, followeeId: 21 },
  { followerId: 20, followeeId: 7 },
  { followerId: 20, followeeId: 25 },
  { followerId: 20, followeeId: 16 },
  { followerId: 20, followeeId: 29 },
  { followerId: 20, followeeId: 23 },
  { followerId: 21, followeeId: 17 },
  { followerId: 21, followeeId: 13 },
  { followerId: 21, followeeId: 14 },
  { followerId: 21, followeeId: 1 },
  { followerId: 21, followeeId: 6 },
  { followerId: 21, followeeId: 29 },
  { followerId: 21, followeeId: 27 },
  { followerId: 21, followeeId: 9 },
  { followerId: 21, followeeId: 26 },
  { followerId: 21, followeeId: 19 },
  { followerId: 21, followeeId: 5 },
  { followerId: 21, followeeId: 22 },
  { followerId: 21, followeeId: 20 },
  { followerId: 21, followeeId: 15 },
  { followerId: 21, followeeId: 24 },
  { followerId: 22, followeeId: 2 },
  { followerId: 22, followeeId: 28 },
  { followerId: 22, followeeId: 21 },
  { followerId: 22, followeeId: 30 },
  { followerId: 22, followeeId: 16 },
  { followerId: 22, followeeId: 10 },
  { followerId: 22, followeeId: 24 },
  { followerId: 22, followeeId: 13 },
  { followerId: 22, followeeId: 11 },
  { followerId: 23, followeeId: 6 },
  { followerId: 23, followeeId: 14 },
  { followerId: 23, followeeId: 25 },
  { followerId: 23, followeeId: 16 },
  { followerId: 23, followeeId: 19 },
  { followerId: 23, followeeId: 9 },
  { followerId: 24, followeeId: 29 },
  { followerId: 24, followeeId: 28 },
  { followerId: 24, followeeId: 23 },
  { followerId: 24, followeeId: 18 },
  { followerId: 24, followeeId: 30 },
  { followerId: 24, followeeId: 21 },
  { followerId: 24, followeeId: 1 },
  { followerId: 24, followeeId: 3 },
  { followerId: 25, followeeId: 11 },
  { followerId: 25, followeeId: 23 },
  { followerId: 25, followeeId: 26 },
  { followerId: 25, followeeId: 10 },
  { followerId: 25, followeeId: 22 },
  { followerId: 25, followeeId: 17 },
  { followerId: 25, followeeId: 9 },
  { followerId: 25, followeeId: 14 },
  { followerId: 25, followeeId: 6 },
  { followerId: 25, followeeId: 13 },
  { followerId: 25, followeeId: 4 },
  { followerId: 25, followeeId: 8 },
  { followerId: 25, followeeId: 20 },
  { followerId: 25, followeeId: 15 },
  { followerId: 25, followeeId: 18 },
  { followerId: 26, followeeId: 18 },
  { followerId: 26, followeeId: 19 },
  { followerId: 26, followeeId: 4 },
  { followerId: 26, followeeId: 28 },
  { followerId: 26, followeeId: 6 },
  { followerId: 26, followeeId: 1 },
  { followerId: 26, followeeId: 8 },
  { followerId: 26, followeeId: 3 },
  { followerId: 26, followeeId: 25 },
  { followerId: 26, followeeId: 15 },
  { followerId: 27, followeeId: 11 },
  { followerId: 27, followeeId: 1 },
  { followerId: 27, followeeId: 23 },
  { followerId: 27, followeeId: 7 },
  { followerId: 27, followeeId: 29 },
  { followerId: 27, followeeId: 18 },
  { followerId: 27, followeeId: 30 },
  { followerId: 27, followeeId: 4 },
  { followerId: 27, followeeId: 28 },
  { followerId: 27, followeeId: 12 },
  { followerId: 27, followeeId: 10 },
  { followerId: 28, followeeId: 7 },
  { followerId: 28, followeeId: 27 },
  { followerId: 28, followeeId: 21 },
  { followerId: 28, followeeId: 14 },
  { followerId: 28, followeeId: 16 },
  { followerId: 28, followeeId: 6 },
  { followerId: 28, followeeId: 8 },
  { followerId: 28, followeeId: 24 },
  { followerId: 28, followeeId: 3 },
  { followerId: 28, followeeId: 13 },
  { followerId: 29, followeeId: 10 },
  { followerId: 29, followeeId: 18 },
  { followerId: 29, followeeId: 4 },
  { followerId: 29, followeeId: 19 },
  { followerId: 29, followeeId: 7 },
  { followerId: 29, followeeId: 27 },
  { followerId: 29, followeeId: 25 },
  { followerId: 29, followeeId: 9 },
  { followerId: 29, followeeId: 17 },
  { followerId: 29, followeeId: 23 },
  { followerId: 30, followeeId: 14 },
  { followerId: 30, followeeId: 13 },
  { followerId: 30, followeeId: 22 },
  { followerId: 30, followeeId: 8 },
  { followerId: 30, followeeId: 18 },
  { followerId: 30, followeeId: 16 },
  { followerId: 30, followeeId: 15 },
  { followerId: 30, followeeId: 5 },
  { followerId: 30, followeeId: 9 },
  { followerId: 30, followeeId: 12 },
  { followerId: 30, followeeId: 21 },
  { followerId: 30, followeeId: 23 },
  { followerId: 30, followeeId: 25 },
  { followerId: 30, followeeId: 27 },
  { followerId: 30, followeeId: 29 },
  { followerId: 30, followeeId: 3 },
];

const mutualFollowsList = [
  ({ followerId: 1, followeeId: 13 },
  { followerId: 1, followeeId: 11 },
  { followerId: 1, followeeId: 10 },
  { followerId: 1, followeeId: 15 },
  { followerId: 1, followeeId: 27 },
  { followerId: 1, followeeId: 18 },
  { followerId: 1, followeeId: 26 },
  { followerId: 1, followeeId: 16 },
  { followerId: 2, followeeId: 15 },
  { followerId: 2, followeeId: 10 },
  { followerId: 2, followeeId: 22 },
  { followerId: 3, followeeId: 14 },
  { followerId: 3, followeeId: 6 },
  { followerId: 3, followeeId: 30 },
  { followerId: 3, followeeId: 7 },
  { followerId: 4, followeeId: 12 },
  { followerId: 4, followeeId: 25 },
  { followerId: 4, followeeId: 9 },
  { followerId: 4, followeeId: 7 },
  { followerId: 6, followeeId: 9 },
  { followerId: 6, followeeId: 3 },
  { followerId: 7, followeeId: 8 },
  { followerId: 7, followeeId: 4 },
  { followerId: 7, followeeId: 3 },
  { followerId: 8, followeeId: 17 },
  { followerId: 8, followeeId: 9 },
  { followerId: 8, followeeId: 7 },
  { followerId: 9, followeeId: 4 },
  { followerId: 9, followeeId: 6 },
  { followerId: 9, followeeId: 8 },
  { followerId: 9, followeeId: 16 },
  { followerId: 9, followeeId: 12 },
  { followerId: 9, followeeId: 30 },
  { followerId: 10, followeeId: 2 },
  { followerId: 10, followeeId: 19 },
  { followerId: 10, followeeId: 1 },
  { followerId: 10, followeeId: 22 },
  { followerId: 10, followeeId: 25 },
  { followerId: 10, followeeId: 15 },
  { followerId: 10, followeeId: 29 },
  { followerId: 10, followeeId: 11 },
  { followerId: 10, followeeId: 27 },
  { followerId: 11, followeeId: 10 },
  { followerId: 11, followeeId: 1 },
  { followerId: 11, followeeId: 27 },
  { followerId: 11, followeeId: 15 },
  { followerId: 11, followeeId: 25 },
  { followerId: 11, followeeId: 18 },
  { followerId: 11, followeeId: 22 },
  { followerId: 12, followeeId: 9 },
  { followerId: 12, followeeId: 4 },
  { followerId: 12, followeeId: 14 },
  { followerId: 13, followeeId: 1 },
  { followerId: 13, followeeId: 19 },
  { followerId: 13, followeeId: 30 },
  { followerId: 14, followeeId: 12 },
  { followerId: 14, followeeId: 3 },
  { followerId: 14, followeeId: 30 },
  { followerId: 15, followeeId: 21 },
  { followerId: 15, followeeId: 10 },
  { followerId: 15, followeeId: 1 },
  { followerId: 15, followeeId: 11 },
  { followerId: 15, followeeId: 2 },
  { followerId: 15, followeeId: 26 },
  { followerId: 16, followeeId: 30 },
  { followerId: 16, followeeId: 22 },
  { followerId: 16, followeeId: 9 },
  { followerId: 16, followeeId: 1 },
  { followerId: 17, followeeId: 8 },
  { followerId: 17, followeeId: 29 },
  { followerId: 18, followeeId: 30 },
  { followerId: 18, followeeId: 24 },
  { followerId: 18, followeeId: 11 },
  { followerId: 18, followeeId: 1 },
  { followerId: 18, followeeId: 27 },
  { followerId: 18, followeeId: 29 },
  { followerId: 19, followeeId: 10 },
  { followerId: 19, followeeId: 13 },
  { followerId: 19, followeeId: 21 },
  { followerId: 20, followeeId: 21 },
  { followerId: 20, followeeId: 25 },
  { followerId: 21, followeeId: 19 },
  { followerId: 21, followeeId: 22 },
  { followerId: 21, followeeId: 20 },
  { followerId: 21, followeeId: 15 },
  { followerId: 21, followeeId: 24 },
  { followerId: 22, followeeId: 2 },
  { followerId: 22, followeeId: 21 },
  { followerId: 22, followeeId: 30 },
  { followerId: 22, followeeId: 16 },
  { followerId: 22, followeeId: 10 },
  { followerId: 22, followeeId: 11 },
  { followerId: 23, followeeId: 25 },
  { followerId: 24, followeeId: 28 },
  { followerId: 24, followeeId: 18 },
  { followerId: 24, followeeId: 21 },
  { followerId: 25, followeeId: 11 },
  { followerId: 25, followeeId: 23 },
  { followerId: 25, followeeId: 26 },
  { followerId: 25, followeeId: 10 },
  { followerId: 25, followeeId: 4 },
  { followerId: 25, followeeId: 20 },
  { followerId: 26, followeeId: 1 },
  { followerId: 26, followeeId: 25 },
  { followerId: 26, followeeId: 15 },
  { followerId: 27, followeeId: 11 },
  { followerId: 27, followeeId: 1 },
  { followerId: 27, followeeId: 29 },
  { followerId: 27, followeeId: 18 },
  { followerId: 27, followeeId: 30 },
  { followerId: 27, followeeId: 28 },
  { followerId: 27, followeeId: 10 },
  { followerId: 28, followeeId: 27 },
  { followerId: 28, followeeId: 24 },
  { followerId: 29, followeeId: 10 },
  { followerId: 29, followeeId: 18 },
  { followerId: 29, followeeId: 27 },
  { followerId: 29, followeeId: 17 },
  { followerId: 30, followeeId: 14 },
  { followerId: 30, followeeId: 13 },
  { followerId: 30, followeeId: 22 },
  { followerId: 30, followeeId: 18 },
  { followerId: 30, followeeId: 16 },
  { followerId: 30, followeeId: 9 },
  { followerId: 30, followeeId: 27 },
  { followerId: 30, followeeId: 3 })
];

// script used to programatically generate followsList:

// for (let followerId = 1; followerId <= 30; followerId++) { 
//   let i = 0; 
//   let count = Math.floor(Math.random() * (15 - 5 + 1)) + 5;
//   while (i <= count) { 
//     const followeeId = Math.floor(Math.random() * (30 - 1 + 1)) + 1; 
//     if ((followeeId !== followerId) && !followList.find((rel) => (rel.followerId === followerId && rel.followeeId === followeeId))) { 
//       followList.push({ followerId, followeeId }); 
//       i++; 
//     };        
//   };
// };

// console.log(JSON.stringify(followList)); 
// console.log(followList.length); 

// const mututalFollow = followList.filter(rel => { 
//   const mututal = followList.find(({ followerId, followeeId }) => (followerId === rel.followeeId && followeeId === rel.followerId))
//   if (mututal) return mututal; 
// });

// console.log(JSON.stringify(mututalFollow)); 
// console.log(mututalFollow.length); 

// script results: 
//    - 303 relationships generated; 
//    - 126 / 2 = 63 mutual relationships; 

module.exports = {
  up: async (queryInterface, Sequelize) => {
    await queryInterface.bulkInsert('Follows', followsList);  
  },

  down: async (queryInterface, Sequelize) => {
    await Follow.destroy({ where: {}, truncate: true })
  }
};
